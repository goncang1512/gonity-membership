!async function(){const t=document.currentScript,e=t.getAttribute("data-environment")||"sandbox",n=t.getAttribute("api-key"),i=t.getAttribute("url-api");let a;try{a=await fetch(`${i}/api/v1/script?environment=${e}`,{method:"POST",headers:{Authorization:`Bearer ${n}`}});const t=await a.json();if(!document.getElementById("midtrans-script")){const n=document.createElement("script");n.id="midtrans-script",n.type="text/javascript",n.src="https://api.midtrans.com/v2/assets/js/midtrans-new-3ds.min.js",n.setAttribute("data-environment",e),n.setAttribute("data-client-key",t.key),document.head.appendChild(n),n.onload=()=>{window.MembershipNew3ds={getCardToken:(t,e)=>window.MidtransNew3ds.getCardToken(t,e)}}}}catch(t){console.log("ERROR",t)}}();